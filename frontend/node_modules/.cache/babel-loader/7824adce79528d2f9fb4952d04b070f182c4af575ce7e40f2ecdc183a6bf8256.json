{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\roger\\\\WebstormProjects\\\\SymbAIosisFinalTwo\\\\frontend\\\\src\\\\components\\\\NodalGraph.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport ReactFlow, { Background, Controls, MiniMap, useNodesState, useEdgesState } from \"reactflow\";\nimport \"reactflow/dist/style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function NodalGraph({\n  companies,\n  currentUserEmail\n}) {\n  _s();\n  // Prepare nodes\n  const initialNodes = companies.map((company, idx) => ({\n    id: company.email,\n    // must be unique\n    data: {\n      label: company.name\n    },\n    position: {\n      x: 100 + idx % 5 * 250,\n      y: 100 + Math.floor(idx / 5) * 200\n    },\n    style: {\n      border: company.email === currentUserEmail ? \"3px solid red\" : \"1px solid #222\",\n      padding: 10,\n      borderRadius: \"50%\",\n      background: \"#fff\",\n      textAlign: \"center\",\n      cursor: \"pointer\"\n    }\n  }));\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const [selectedNode, setSelectedNode] = useState(null);\n\n  // When a node is clicked\n  const onNodeClick = useCallback((event, node) => {\n    setSelectedNode(node);\n  }, []);\n\n  // Generate edges based on companies correlation (optional)\n  useEffect(() => {\n    const newEdges = [];\n    companies.forEach(a => {\n      if (!Array.isArray(a.produces)) return; // safeguard\n      companies.forEach(b => {\n        if (a.email === b.email || !Array.isArray(b.needs)) return;\n        // If a produces something b needs, draw an edge\n        if (a.produces.some(item => b.needs.includes(item))) {\n          newEdges.push({\n            id: `edge-${a.email}-${b.email}`,\n            source: a.email,\n            target: b.email,\n            animated: true,\n            style: {\n              stroke: \"#888\"\n            }\n          });\n        }\n      });\n    });\n    setEdges(newEdges);\n  }, [companies, setEdges]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: \"700px\",\n      width: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(ReactFlow, {\n      nodes: nodes,\n      edges: edges,\n      onNodesChange: onNodesChange,\n      onEdgesChange: onEdgesChange,\n      onNodeClick: onNodeClick,\n      fitView: true,\n      children: [/*#__PURE__*/_jsxDEV(Background, {\n        variant: \"dots\",\n        gap: 12,\n        size: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(MiniMap, {\n        nodeStrokeColor: n => n.id === currentUserEmail ? \"red\" : \"#222\",\n        nodeColor: n => n.id === currentUserEmail ? \"#fee\" : \"#fff\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), selectedNode && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        top: selectedNode.position.y + 50,\n        left: selectedNode.position.x + 50,\n        padding: \"8px 12px\",\n        background: \"#fff\",\n        border: \"1px solid #222\",\n        borderRadius: \"8px\",\n        pointerEvents: \"none\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: selectedNode.data.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Email: \", selectedNode.id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n_s(NodalGraph, \"Agd5wAV+uc9QQPwJsglIETJCxX0=\", false, function () {\n  return [useNodesState, useEdgesState];\n});\n_c = NodalGraph;\nvar _c;\n$RefreshReg$(_c, \"NodalGraph\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","ReactFlow","Background","Controls","MiniMap","useNodesState","useEdgesState","jsxDEV","_jsxDEV","NodalGraph","companies","currentUserEmail","_s","initialNodes","map","company","idx","id","email","data","label","name","position","x","y","Math","floor","style","border","padding","borderRadius","background","textAlign","cursor","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","selectedNode","setSelectedNode","onNodeClick","event","node","newEdges","forEach","a","Array","isArray","produces","b","needs","some","item","includes","push","source","target","animated","stroke","height","width","children","fitView","variant","gap","size","fileName","_jsxFileName","lineNumber","columnNumber","nodeStrokeColor","n","nodeColor","top","left","pointerEvents","_c","$RefreshReg$"],"sources":["C:/Users/roger/WebstormProjects/SymbAIosisFinalTwo/frontend/src/components/NodalGraph.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport ReactFlow, {\r\n    Background,\r\n    Controls,\r\n    MiniMap,\r\n    useNodesState,\r\n    useEdgesState,\r\n} from \"reactflow\";\r\nimport \"reactflow/dist/style.css\";\r\n\r\nexport default function NodalGraph({ companies, currentUserEmail }) {\r\n    // Prepare nodes\r\n    const initialNodes = companies.map((company, idx) => ({\r\n        id: company.email, // must be unique\r\n        data: { label: company.name },\r\n        position: { x: 100 + (idx % 5) * 250, y: 100 + Math.floor(idx / 5) * 200 },\r\n        style: {\r\n            border: company.email === currentUserEmail ? \"3px solid red\" : \"1px solid #222\",\r\n            padding: 10,\r\n            borderRadius: \"50%\",\r\n            background: \"#fff\",\r\n            textAlign: \"center\",\r\n            cursor: \"pointer\",\r\n        },\r\n    }));\r\n\r\n    const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\r\n    const [edges, setEdges, onEdgesChange] = useEdgesState([]);\r\n    const [selectedNode, setSelectedNode] = useState(null);\r\n\r\n    // When a node is clicked\r\n    const onNodeClick = useCallback((event, node) => {\r\n        setSelectedNode(node);\r\n    }, []);\r\n\r\n    // Generate edges based on companies correlation (optional)\r\n    useEffect(() => {\r\n        const newEdges = [];\r\n        companies.forEach((a) => {\r\n            if (!Array.isArray(a.produces)) return; // safeguard\r\n            companies.forEach((b) => {\r\n                if (a.email === b.email || !Array.isArray(b.needs)) return;\r\n                // If a produces something b needs, draw an edge\r\n                if (a.produces.some((item) => b.needs.includes(item))) {\r\n                    newEdges.push({\r\n                        id: `edge-${a.email}-${b.email}`,\r\n                        source: a.email,\r\n                        target: b.email,\r\n                        animated: true,\r\n                        style: { stroke: \"#888\" },\r\n                    });\r\n                }\r\n            });\r\n        });\r\n        setEdges(newEdges);\r\n    }, [companies, setEdges]);\r\n\r\n    return (\r\n        <div style={{ height: \"700px\", width: \"100%\" }}>\r\n            <ReactFlow\r\n                nodes={nodes}\r\n                edges={edges}\r\n                onNodesChange={onNodesChange}\r\n                onEdgesChange={onEdgesChange}\r\n                onNodeClick={onNodeClick}\r\n                fitView\r\n            >\r\n                <Background variant=\"dots\" gap={12} size={1} />\r\n                <Controls />\r\n                <MiniMap\r\n                    nodeStrokeColor={(n) => (n.id === currentUserEmail ? \"red\" : \"#222\")}\r\n                    nodeColor={(n) => (n.id === currentUserEmail ? \"#fee\" : \"#fff\")}\r\n                />\r\n            </ReactFlow>\r\n\r\n            {selectedNode && (\r\n                <div\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        top: selectedNode.position.y + 50,\r\n                        left: selectedNode.position.x + 50,\r\n                        padding: \"8px 12px\",\r\n                        background: \"#fff\",\r\n                        border: \"1px solid #222\",\r\n                        borderRadius: \"8px\",\r\n                        pointerEvents: \"none\",\r\n                    }}\r\n                >\r\n                    <strong>{selectedNode.data.label}</strong>\r\n                    <div>Email: {selectedNode.id}</div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,OAAOC,SAAS,IACZC,UAAU,EACVC,QAAQ,EACRC,OAAO,EACPC,aAAa,EACbC,aAAa,QACV,WAAW;AAClB,OAAO,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,eAAe,SAASC,UAAUA,CAAC;EAAEC,SAAS;EAAEC;AAAiB,CAAC,EAAE;EAAAC,EAAA;EAChE;EACA,MAAMC,YAAY,GAAGH,SAAS,CAACI,GAAG,CAAC,CAACC,OAAO,EAAEC,GAAG,MAAM;IAClDC,EAAE,EAAEF,OAAO,CAACG,KAAK;IAAE;IACnBC,IAAI,EAAE;MAAEC,KAAK,EAAEL,OAAO,CAACM;IAAK,CAAC;IAC7BC,QAAQ,EAAE;MAAEC,CAAC,EAAE,GAAG,GAAIP,GAAG,GAAG,CAAC,GAAI,GAAG;MAAEQ,CAAC,EAAE,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACV,GAAG,GAAG,CAAC,CAAC,GAAG;IAAI,CAAC;IAC1EW,KAAK,EAAE;MACHC,MAAM,EAAEb,OAAO,CAACG,KAAK,KAAKP,gBAAgB,GAAG,eAAe,GAAG,gBAAgB;MAC/EkB,OAAO,EAAE,EAAE;MACXC,YAAY,EAAE,KAAK;MACnBC,UAAU,EAAE,MAAM;MAClBC,SAAS,EAAE,QAAQ;MACnBC,MAAM,EAAE;IACZ;EACJ,CAAC,CAAC,CAAC;EAEH,MAAM,CAACC,KAAK,EAAEC,QAAQ,EAAEC,aAAa,CAAC,GAAG/B,aAAa,CAACQ,YAAY,CAAC;EACpE,MAAM,CAACwB,KAAK,EAAEC,QAAQ,EAAEC,aAAa,CAAC,GAAGjC,aAAa,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACkC,YAAY,EAAEC,eAAe,CAAC,GAAG3C,QAAQ,CAAC,IAAI,CAAC;;EAEtD;EACA,MAAM4C,WAAW,GAAG1C,WAAW,CAAC,CAAC2C,KAAK,EAAEC,IAAI,KAAK;IAC7CH,eAAe,CAACG,IAAI,CAAC;EACzB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA7C,SAAS,CAAC,MAAM;IACZ,MAAM8C,QAAQ,GAAG,EAAE;IACnBnC,SAAS,CAACoC,OAAO,CAAEC,CAAC,IAAK;MACrB,IAAI,CAACC,KAAK,CAACC,OAAO,CAACF,CAAC,CAACG,QAAQ,CAAC,EAAE,OAAO,CAAC;MACxCxC,SAAS,CAACoC,OAAO,CAAEK,CAAC,IAAK;QACrB,IAAIJ,CAAC,CAAC7B,KAAK,KAAKiC,CAAC,CAACjC,KAAK,IAAI,CAAC8B,KAAK,CAACC,OAAO,CAACE,CAAC,CAACC,KAAK,CAAC,EAAE;QACpD;QACA,IAAIL,CAAC,CAACG,QAAQ,CAACG,IAAI,CAAEC,IAAI,IAAKH,CAAC,CAACC,KAAK,CAACG,QAAQ,CAACD,IAAI,CAAC,CAAC,EAAE;UACnDT,QAAQ,CAACW,IAAI,CAAC;YACVvC,EAAE,EAAE,QAAQ8B,CAAC,CAAC7B,KAAK,IAAIiC,CAAC,CAACjC,KAAK,EAAE;YAChCuC,MAAM,EAAEV,CAAC,CAAC7B,KAAK;YACfwC,MAAM,EAAEP,CAAC,CAACjC,KAAK;YACfyC,QAAQ,EAAE,IAAI;YACdhC,KAAK,EAAE;cAAEiC,MAAM,EAAE;YAAO;UAC5B,CAAC,CAAC;QACN;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;IACFtB,QAAQ,CAACO,QAAQ,CAAC;EACtB,CAAC,EAAE,CAACnC,SAAS,EAAE4B,QAAQ,CAAC,CAAC;EAEzB,oBACI9B,OAAA;IAAKmB,KAAK,EAAE;MAAEkC,MAAM,EAAE,OAAO;MAAEC,KAAK,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAC3CvD,OAAA,CAACP,SAAS;MACNiC,KAAK,EAAEA,KAAM;MACbG,KAAK,EAAEA,KAAM;MACbD,aAAa,EAAEA,aAAc;MAC7BG,aAAa,EAAEA,aAAc;MAC7BG,WAAW,EAAEA,WAAY;MACzBsB,OAAO;MAAAD,QAAA,gBAEPvD,OAAA,CAACN,UAAU;QAAC+D,OAAO,EAAC,MAAM;QAACC,GAAG,EAAE,EAAG;QAACC,IAAI,EAAE;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC/C/D,OAAA,CAACL,QAAQ;QAAAiE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACZ/D,OAAA,CAACJ,OAAO;QACJoE,eAAe,EAAGC,CAAC,IAAMA,CAAC,CAACxD,EAAE,KAAKN,gBAAgB,GAAG,KAAK,GAAG,MAAQ;QACrE+D,SAAS,EAAGD,CAAC,IAAMA,CAAC,CAACxD,EAAE,KAAKN,gBAAgB,GAAG,MAAM,GAAG;MAAQ;QAAAyD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK,CAAC,EAEX/B,YAAY,iBACThC,OAAA;MACImB,KAAK,EAAE;QACHL,QAAQ,EAAE,UAAU;QACpBqD,GAAG,EAAEnC,YAAY,CAAClB,QAAQ,CAACE,CAAC,GAAG,EAAE;QACjCoD,IAAI,EAAEpC,YAAY,CAAClB,QAAQ,CAACC,CAAC,GAAG,EAAE;QAClCM,OAAO,EAAE,UAAU;QACnBE,UAAU,EAAE,MAAM;QAClBH,MAAM,EAAE,gBAAgB;QACxBE,YAAY,EAAE,KAAK;QACnB+C,aAAa,EAAE;MACnB,CAAE;MAAAd,QAAA,gBAEFvD,OAAA;QAAAuD,QAAA,EAASvB,YAAY,CAACrB,IAAI,CAACC;MAAK;QAAAgD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,eAC1C/D,OAAA;QAAAuD,QAAA,GAAK,SAAO,EAACvB,YAAY,CAACvB,EAAE;MAAA;QAAAmD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC,CACR;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd;AAAC3D,EAAA,CApFuBH,UAAU;EAAA,QAgBWJ,aAAa,EACbC,aAAa;AAAA;AAAAwE,EAAA,GAjBlCrE,UAAU;AAAA,IAAAqE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}